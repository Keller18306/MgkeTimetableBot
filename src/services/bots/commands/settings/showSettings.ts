import { DefaultCommand, HandlerParams } from "../../abstract/command";

export default class extends DefaultCommand {
    public id = 'show_settings'

    public regexp = /^((!|\/)(show|current)Settings)|(–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ)$/i
    public payload = null;

    handler({ context, chat, service }: HandlerParams) {
        return context.send([
            `–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è "üìÑ –ù–∞ –¥–µ–Ω—å": ${chat.showDaily ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è "üìë –ù–∞ –Ω–µ–¥–µ–ª—é": ${chat.showWeekly ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "üïê –ó–≤–æ–Ω–∫–∏": ${chat.showCalls ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "üí° –û –±–æ—Ç–µ": ${chat.showAbout ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "üë©‚Äçüéì –ì—Ä—É–ø–ø–∞": ${chat.showFastGroup ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "üë©‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å": ${chat.showFastTeacher ? '–¥–∞' : '–Ω–µ—Ç'}`,

            `\n–£–¥–∞–ª—è—Ç—å –ø—Ä–æ—à–µ–¥—à–∏–µ –¥–Ω–∏ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é: ${chat.removePastDays ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è: ${chat.showParserTime ? '–¥–∞' : '–Ω–µ—Ç'}`,

            `\n–û–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –¥–Ω—è: ${chat.noticeChanges ? '–¥–∞' : '–Ω–µ—Ç'}`,

            ...(service === 'vk' ? [
                '\n__ –¢–û–õ–¨–ö–û –í–ö __:\n',
                `–£–¥–∞–ª—è—Ç—å –ø—Ä–æ—à–ª–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ –æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏: ${chat.deleteLastMsg ? '–¥–∞' : '–Ω–µ—Ç'}`,
                `–£–¥–∞–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è: ${chat.deleteUserMsg ? '–¥–∞' : '–Ω–µ—Ç'}`
            ] : []),

            '\n~~~ –°–∏—Å—Ç–µ–º–Ω—ã–µ (–æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è) ~~~',
            `–†–µ–∂–∏–º —á–∞—Ç–∞: ${chat.mode} (deactivateSecondaryCheck: ${chat.deactivateSecondaryCheck ? '–¥–∞' : '–Ω–µ—Ç'})`,
            `ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è: ${chat.lastMsgId}`,
            `–í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–µ–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è: ${chat.lastMsgTime}`,
            `–†–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏—è: ${chat.allowSendMess ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ä–∞—Å—Å—ã–∫—É: ${chat.subscribeMess ? '–¥–∞' : '–Ω–µ—Ç'}`,
            `–†–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –æ–¥–æ–±—Ä–∏—Ç—å VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: ${(service === 'vk' && chat.allowVkAppAccept) ? '–¥–∞' : '–Ω–µ—Ç (–≤–æ–∑–º–æ–∂–Ω–æ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ)'}`,
            `–¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫: ${chat.needUpdateButtons ? '–¥–∞' : '–Ω–µ—Ç'}`
        ].join('\n'))
    }
}